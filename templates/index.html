<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ ui.title[lang] }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="lang-switch">
        <a href="/?lang=en" class="lang-link {% if lang == 'en' %}active{% endif %}">ğŸ‡¬ğŸ‡§ English</a> |
        <a href="/?lang=es" class="lang-link {% if lang == 'es' %}active{% endif %}">ğŸ‡ªğŸ‡¸ EspaÃ±ol</a>
    </div>
    
    <div class="container">
        <h1>ğŸ± {{ ui.title[lang] }}</h1>
        
        <div class="form-card">
            <form method="POST" action="/?lang={{ lang }}">
                <div class="form-group">
                    <label for="name">{{ ui.cat_name[lang] }}</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="years">{{ ui.age[lang] }} ({{ ui.years[lang] }})</label>
                        <input type="number" id="years" name="years" min="0" max="25" value="0" required>
                    </div>
                    <div class="form-group">
                        <label for="months">{{ ui.age[lang] }} ({{ ui.months[lang] }})</label>
                        <input type="number" id="months" name="months" min="0" max="11" value="0">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="breed">{{ ui.breed[lang] }}</label>
                    <select id="breed" name="breed" required>
                        {% for breed in all_breeds %}
                        <option value="{{ breed }}">{{ breed }}</option>
                        {% endfor %}
                    </select>
                </div>

                
                <div class="form-group">
                    <label for="weight">{{ ui.weight[lang] }}</label>
                    <input type="number" id="weight" name="weight" step="0.1" min="0.5" max="15" required>
                </div>
                
                <div class="form-group">
                    <label for="spayed_neutered">{{ ui.spayed_neutered[lang] }}</label>
                    <select id="spayed_neutered" name="spayed_neutered" required>
                        <option value="no">{{ ui.no[lang] }}</option>
                        <option value="yes">{{ ui.yes[lang] }}</option>
                    </select>
                </div>
                
                <button type="submit" class="btn-primary">{{ ui.calculate[lang] }}</button>
            </form>
        </div>
        
        {% if result %}
        {% if result.error %}
        <div class="result-card warning-card">
            <h3>âŒ Error</h3>
            <p>{{ result.error_message }}</p>
        </div>
        {% else %}
        <div class="result-section">
            <div class="result-card profile-card">
                <h2>{{ result.name }} ğŸ¾</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">{{ ui.age[lang] }}:</span>
                        <span class="value">{{ result.years }} {{ ui.years[lang] }}{% if result.months > 0 %}, {{ result.months }} {{ ui.months[lang] }}{% endif %}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">{{ ui.human_age[lang] }}</span>
                        <span class="value highlight">{{ result.human_age }} {{ ui.years[lang] }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">{{ ui.breed[lang] }}:</span>
                        <span class="value">{{ result.breed }}</span>
                    </div>
                </div>
                <div class="breed-description">
                    <p><em>{{ result.breed_description }}</em></p>
                </div>
            </div>
            
            <div class="result-card weight-card">
                <h3>âš–ï¸ {{ ui.weight_status[lang] }}</h3>
                <div class="weight-info">
                    <p class="current-weight">{{ ui.weight[lang] }}: <strong>{{ result.weight }} kg</strong></p>
                    <p class="ideal-weight">{{ ui.ideal_weight[lang] }} <strong>{{ result.ideal_weight }}</strong></p>
                    <p class="weight-status {{ result.weight_status }}">{{ result.weight_message }}</p>
                </div>
            </div>
            
            <div class="result-card">
                <h3>ğŸ­ {{ ui.personality[lang] }}</h3>
                <p>{{ result.info.personality }}</p>
            </div>
            
            <div class="result-card">
                <h3>ğŸ’Š {{ ui.health[lang] }}</h3>
                <p>{{ result.info.health }}</p>
            </div>
            
            <div class="result-card">
                <h3>ğŸ½ï¸ {{ ui.feeding[lang] }}</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">{{ ui.feeding_frequency[lang] }}</span>
                        <span class="value">{{ result.feeding.frequency }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">{{ ui.food_type[lang] }}</span>
                        <span class="value">{{ result.feeding.food_type }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">{{ ui.daily_calories[lang] }}</span>
                        <span class="value">{{ result.feeding.calories }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">{{ ui.daily_grams[lang] }}</span>
                        <span class="value">{{ result.feeding.grams }}</span>
                    </div>
                </div>
            </div>
            
            <div class="result-card">
                <h3>ğŸ® {{ ui.games[lang] }}</h3>
                <div class="playtime-highlight">
                    <strong>â° {% if lang == 'en' %}Minimum daily playtime:{% else %}Tiempo mÃ­nimo de juego diario:{% endif %}</strong>
                    <span>{{ result.games.min_playtime }}</span>
                </div>
                <ul class="games-list">
                    {% for activity in result.games.activities %}
                    <li>{{ activity }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            <div class="result-card">
                <h3>ğŸ’‰ {{ ui.vaccinations[lang] }}</h3>
                <p>{{ result.vaccination }}</p>
            </div>
            
            <div class="result-card">
                <h3>ğŸ› {{ ui.deworming[lang] }}</h3>
                <p>{{ result.deworming }}</p>
            </div>
            
            <div class="result-card warning-card">
                <h3>âš ï¸ {{ ui.warning_signs[lang] }}</h3>
                <p>{{ result.info.warning_signs }}</p>
            </div>
            
            <div class="result-card">
                <h3>ğŸ¥ {{ ui.vet[lang] }}</h3>
                <p>{{ result.info.vet }}</p>
            </div>
            
            {% if result.spay_neuter %}
            <div class="result-card">
                <h3>âœ‚ï¸ {{ ui.spay_neuter[lang] }}</h3>
                <p><strong>{% if lang=="en" %}Timing:{% else %}Momento:{% endif %}</strong> {{ result.spay_neuter.timing }}</p>
                <p><strong>{% if lang=="en" %}Benefits:{% else %}Beneficios:{% endif %}</strong> {{ result.spay_neuter.benefits }}</p>
                <p><strong>{% if lang=="en" %}Recovery:{% else %}RecuperaciÃ³n:{% endif %}</strong> {{ result.spay_neuter.recovery }}</p>
            </div>
            {% endif %}
        </div>
        {% endif %}
        {% endif %}
        
        <p class="disclaimer">âš ï¸ {{ ui.disclaimer[lang] }}</p>
    </div>
</body>
</html>